/*
  Math Quest â€“ Mental Math Trainer
  File: styles/animations.css
  Role: Keyframe animations (shake, bump, fade, confetti, etc.) and animation helper classes.
*/

@keyframes floatLogo {
  0% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-3px);
  }
  100% {
    transform: translateY(0);
  }
}

@keyframes pulsePrimary {
  0% {
    transform: translateY(0) scale(1);
    box-shadow: 0 14px 28px rgba(56, 189, 248, 0.45);
  }
  50% {
    transform: translateY(-1px) scale(1.03);
    box-shadow: 0 18px 40px rgba(56, 189, 248, 0.6);
  }
  100% {
    transform: translateY(0) scale(1);
    box-shadow: 0 14px 28px rgba(56, 189, 248, 0.45);
  }
}

/* --- Timer Warning Animations --- */

@keyframes timerPulseRed {
  0% { color: var(--accent-strong); transform: scale(1); }
  50% { color: #ef4444; transform: scale(1.2); }
  100% { color: var(--accent-strong); transform: scale(1); }
}

@keyframes timerShake {
  0% { transform: translateX(0); }
  20% { transform: translateX(-3px); }
  40% { transform: translateX(3px); }
  60% { transform: translateX(-3px); }
  80% { transform: translateX(3px); }
  100% { transform: translateX(0); }
}

.timer-warning {
  animation: timerPulseRed 0.6s ease-in-out infinite,
             timerShake 0.6s ease-in-out infinite;
}

/* --- Final-second faster pulse --- */
@keyframes timerPulseFast {
  0%   { transform: scale(1); }
  50%  { transform: scale(1.32); }
  100% { transform: scale(1); }
}

#timerLabel.timer-warning-final {
  animation: timerPulseFast 0.35s ease-in-out infinite,
             timerShake 0.35s ease-in-out infinite;
}

/* --- Shake entire question card on timeout --- */
@keyframes shakeCard {
  0%, 100% { transform: translateX(0); }
  15%      { transform: translateX(-6px); }
  30%      { transform: translateX(6px); }
  45%      { transform: translateX(-6px); }
  60%      { transform: translateX(6px); }
  75%      { transform: translateX(-3px); }
  90%      { transform: translateX(3px); }
}

.shake-card {
  animation: shakeCard 0.6s ease-in-out;
}
/* ============================================================
   CONFETTI PARTICLES
   ============================================================ */

.confetti-container {
  position: absolute;
  inset: 0;
  pointer-events: none;
  overflow: visible;
  z-index: 30;
}

.confetti-piece {
  position: absolute;
  width: 6px;
  height: 10px;
  border-radius: 2px;
  opacity: 0.95;
  --x-shift: 0px;
  animation: confetti-fall 4s cubic-bezier(0.25, 0.1, 0.25, 1) forwards;
}

@keyframes confetti-fall {
  0% {
    transform: translate(0, -20px) rotateZ(0deg);
    opacity: 0;
  }
  15% {
    opacity: 1;
    transform: translate(calc(var(--x-shift) * 0.2), 40px) rotateZ(90deg);
  }
  40% {
    transform: translate(calc(var(--x-shift) * 0.5), 120px) rotateZ(180deg);
  }
  70% {
    transform: translate(calc(var(--x-shift) * 0.8), 180px) rotateZ(270deg);
  }
  100% {
    transform: translate(var(--x-shift), 240px) rotateZ(360deg);
    opacity: 0;
  }
}
